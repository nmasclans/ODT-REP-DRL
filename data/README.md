## Data directory

Computational data from ODT run is stored in this directory.
Directory names correspond to the ODT `<caseName>`, specified in the run bash file.
For each run case (i.e. `channel`), the case directory (i.e. `ODT/data/channel/`) has 4 subdirectories:
* **data**: data .dat files for each `dumbTimes` specified in the input yaml file. Generated at the end of the case run.
* **input**: input yalm, identical copy from input yaml file in `ODT/input` directory
* **post**: generated plots and .dat files by running python post-scripts in `ODT/post` directory. Post-processed results focus on statistics analysis and DNS comparison.
* **runtime**: data raw files, updated during case runs. 



## Single Case Data 

In directory `data/caseName/data/`.

Data files `.dat` generated at the end of the case run, for each time instant in `DumpTimes`. 
A typical header of a `.dat` file specifies the main run / case parameters as comments in the file head, e.g.:
```
# time = 149.4
# Grid points = 109
# Pressure (Pa) = 101325
# 1_pos    2_posf    3_uvel   4_vvel    5_wvel
```

### Raw visualization - single plot

Quick, raw visualization of velocity data along time can be generated by `gnuplot` using a customized text file. This visualization procedure will produce a single plot per time instant of a chosen saved variable. 

The `gnuplot` command:
```
plot 'odt_end.dat' us 1:3; pause -1;
```
plots the streamwise velocity along the channel height, using 1st column (1_pos, y-value) as x-axis values, and 3rd (3_uvel, streamwise velocity) as y-axis values, at the time corresponding to the end of the run, as

<img src="channel/data/data_00000/odt_end.jpg" width=300><br><br>


### Raw visualization - multiple plots

To build a plot for each `dumbTime` time instant (i.e. for each .dat file) by `gnuplot` using a `.gnu` commands file:

1. Create new text file and drop the full list of `.dat` filenames in the `/data/caseName/data/data_00000/`directory of interest.
``` 
$ ls *.dat > plot_instantaneous.gnu 
```
with the new file head as
```
dmp_00000.dat
dmp_00001.dat
...
```

2. Add text "`plot '`" at the begining of each line:
```
$ vim plot_instantaneous.gnu
:%norm Iplot '
```
with the new file head as
```
plot 'dmp_00000.dat
plot 'dmp_00001.dat
```
where `%` stands for editing all lines at the same time, `norm` for normal mode, `I` inserts text at the begining of the line, next characters `plot '` is the characters to insert. 

3. Add text "`' us 1:3; pause -1;`" at the end of each line:
```
:%norm A' us 1:3; pause -1;
```
with the new file head as 
```
plot 'dmp_00000.dat' us 1:3; pause -1;
plot 'dmp_00001.dat' us 1:3; pause -1;
```
where `A` inserts text at the ending of the line.

4. Save file
```
:wq
```

5. Build & Visualize plots by `gnuplot`:
```bash
# ubuntu terminal
$ gnuplot

# gnuplot terminal
> load "plot_instantaneous.gnu"
```
where you can press `Enter` to open next time-instant plot, and `Ctrl + C` to break visualization loop. 


